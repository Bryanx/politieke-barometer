@using BAR.BL.Domain.Items
@using BAR.UI.MVC.Helpers
@model BAR.UI.MVC.Models.ItemViewModels.ItemViewModel

<table id="datatable-infinite" class="table" cellspacing="10px" width="100%">
    <colgroup>
        <col style="width: 60px">
        <col style="width: 35%">
        <col style="width: 15%">
        <col style="width: 12%">
        <col style="width: 12%">
        <col style="width: 12%">
        <col style="width: 75px">
    </colgroup>
    <thead>
    <tr>
        <th>
        </th>
        <th>
            Naam
        </th>
        <th>
            Vermeldingen
        </th>
        <th>
            Positief
        </th>
        <th>
            Negatief
        </th>
        <th title="Berekend op basis van het aantal tweets">
            Trending
        </th>
        @if (User.Identity.IsAuthenticated) {
            <th>
            </th>
        }
    </tr>
    </thead>
    <tbody>
    @foreach (var item in Model.Items) {
        <tr class="subscription">
            <td>
                <div class="img-circle person-image"></div>
            </td>
            <td>
                <a href='@Url.PersonUrl(item.ItemId)'> @item.Name</a>
            </td>
            <td>
                @item.NumberOfMentions
            </td>
            <td class="green">
                @item.NumberOfMentions
                <i class="glyphicon glyphicon-arrow-up"></i>
            </td>
            <td class="red">
                @item.NumberOfMentions
                <i class="glyphicon glyphicon-arrow-down"></i>
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TrendingPercentage) %
            </td>
            @if (User.Identity.IsAuthenticated) {
                <td>
                    @if (item.Subscribed != true) {
                        <a class="subscribeItem btn btn-success btn-xs" data-item-id="@item.ItemId" title="Deze persoon volgen">Abonneer</a>
                    } else {
                        <a class="subscribeItem btn btn-danger btn-xs" data-item-id="@item.ItemId" title="Uitschrijven">Uitschrijven</a>
                    }
                </td>
            }
        </tr>
    }
    </tbody>
</table>